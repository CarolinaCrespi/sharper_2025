:root{
  --bg1:#0a0f2a; --bg2:#071021; --neb1:#142c5c; --neb2:#390a4a;
  --glass: rgba(255,255,255,0.06); --glass-b: rgba(255,255,255,0.18);
  --ink:#e9f2ff; --muted:#a7b6d9;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:"Outfit",system-ui; color:var(--ink);
  background:
    radial-gradient(1200px 800px at 15% 10%, var(--neb2), transparent 60%),
    radial-gradient(1100px 900px at 80% 20%, var(--neb1), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  overflow-x:hidden;
}

/* stelle */
.stars,.stars2{
  position:fixed; inset:0; pointer-events:none; background-repeat:repeat;
  background-image:
    radial-gradient(1px 1px at 20px 30px,#fff8,transparent 2px),
    radial-gradient(1px 1px at 80px 120px,#fff6,transparent 2px),
    radial-gradient(1px 1px at 200px 50px,#fff6,transparent 2px),
    radial-gradient(1px 1px at 320px 80px,#fff6,transparent 2px);
  opacity:.35; animation: drift 120s linear infinite;
}
.stars2{ filter:blur(.5px); opacity:.25; animation-duration:180s }
@keyframes drift{ from{transform:translateY(0)} to{transform:translateY(-400px)} }

h1{
  text-align:center; margin:22px 0 12px; letter-spacing:.5px; font-weight:900;
  color:#e9f2ff; text-shadow:0 0 18px #8afcff66, 0 0 3px #8afcffcc;
}
.sub{ text-align:center; margin:-4px 0 14px; color:var(--muted); font-size:14px }

/* topbar pi√π larga per allinearsi al contenitore */

.topbar{
  max-width: 1680px;   
  margin:0 auto 16px;
  display:flex; gap:12px; align-items:center;
  padding:8px 14px;
  border-radius:16px;
  backdrop-filter: blur(12px);
  background: linear-gradient(180deg,rgba(255,255,255,0.06),rgba(255,255,255,0.03));
  border:1px solid var(--glass-b);
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

/* contenitore 3 colonne con centro ampio */
.wrap{
  max-width: 1680px;   /* <--- PRIMA era 1480px */
  margin:0 auto 28px;
  display:grid;
  gap:16px;
  grid-template-columns: 360px minmax(800px,1fr) 360px; /* <--- pannelli laterali + larghi */
  align-items:start;
}

.topbar label{ color:#b5c2e1; }
select,button{
  background:var(--glass); color:#c7d3ec; border:1px solid var(--glass-b);
  border-radius:12px; padding:10px 12px; font-weight:600; letter-spacing:.2px; cursor:pointer;
}
button:hover{ box-shadow:0 0 12px #9efcff33, inset 0 0 0 1px #9efcff44 }
.topbar select option{ color:#c7d3ec; background:#0f1628; } /* menu a tendina scuro */
.pill{ margin-left:auto; display:flex; gap:10px; flex-wrap:wrap; align-items:center; color:var(--muted); font-weight:600 }
.chip{ border:1px solid var(--glass-b); background:var(--glass); border-radius:999px; padding:8px 12px }


/* card generiche */
.card{
  border:1px solid var(--glass-b);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border-radius:18px; padding:16px; backdrop-filter: blur(12px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.25), inset 0 0 1px rgba(255,255,255,0.1);
}
.card h3{ margin:.4rem 0 .6rem; color:#d5e7ff }
.muted{ color:var(--muted); font-size:14px }
.btn-block{ display:block; width:100%; margin:8px 0; text-align:left }
.btn-sub{ font-size:13px; color:var(--muted); margin:2px 0 8px }

/* CANVAS: occupa tutta la colonna, rapporto 900/560 */
main.card{ display:flex; align-items:center; justify-content:center; }
canvas{
  width:100%; max-width:100%;
  aspect-ratio: 900 / 560;  /* niente schiacciamento */
  height:auto;
  border-radius:16px; border:1px solid var(--glass-b);
  background:
    radial-gradient(800px 600px at 50% 30%, rgba(158,252,255,0.05), transparent 60%),
    rgba(0,0,0,0.25);
  box-shadow: inset 0 0 60px rgba(158,252,255,0.04);
}

/* tavolozza */
.palette{ display:flex; gap:10px; flex-wrap:wrap; margin:10px 0 }
.swatch{
  width:28px; height:28px; border-radius:8px; cursor:pointer;
  border:1px solid var(--glass-b); box-shadow:0 0 10px rgba(255,255,255,0.06);
  transition:transform .12s ease, box-shadow .12s ease;
}
.swatch:hover{ transform:translateY(-2px); box-shadow:0 8px 16px rgba(0,0,0,.25) }
.swatch[data-active="1"]{ outline:2px solid #fff; outline-offset:2px }

.footer{ text-align:center; color:#9db2d9; opacity:.7; margin:12px 0 26px; font-size:13px }

/* responsive */
@media (max-width:1180px){
  .wrap{ grid-template-columns: 260px minmax(580px,1fr) 280px; }
  .topbar{ max-width:1180px; }
}
@media (max-width:980px){
  .wrap{ grid-template-columns: 1fr; }
  .topbar{ max-width: 94%; flex-wrap:wrap; }
  .pill{ margin-left:0 }
}

.hint-sep{
  border:0;
  border-top:2px dashed var(--glass-b);
  margin:14px 0;
}
