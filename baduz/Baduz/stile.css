/* =========================
   RESET & BASE
   ========================= */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  /* Palette neon */
  --cyan:#0ff; --magenta:#f0f; --lime:#0f0; --violet:#90f; --red:#f33;
  --bg-dark:#0a0a0a; --panel-bg:#111;
}

body{
  background-color:var(--bg-dark);
  font-family:'Press Start 2P', cursive;
  color:var(--cyan);
  position:relative;
}

/* Griglia scanline */
body::after{
  content:""; position:fixed; inset:0;
  background:repeating-linear-gradient(0deg,
    rgba(0,0,0,.15) 0px, rgba(0,0,0,.15) 1px,
    transparent 1px, transparent 2px);
  pointer-events:none; z-index:999;
}

/* =========================
   TIPOGRAFIA
   ========================= */
.game-title{
  text-align:center; font-size:60px; color:var(--cyan);
  text-shadow:0 0 30px var(--magenta), 0 0 20px var(--magenta), 0 0 30px var(--magenta);
  margin-top:20px; letter-spacing:2px; text-transform:uppercase;
}
.game-description{
  text-align:center; font-size:30px; color:var(--cyan);
  margin:10px 0 20px; text-shadow:0 0 5px var(--cyan);
}
.how-to-play{
  text-align:center; font-size:18px; color:var(--cyan); margin-top:20px; padding:15px;
  border:2px solid var(--cyan); box-shadow:0 0 10px var(--cyan);
  width:60%; margin-left:auto; margin-right:auto;
}
.how-to-play h2{ font-size:24px; text-shadow:0 0 10px var(--cyan); margin-bottom:10px; }
.how-to-play p{ margin:5px 0; }
.desktop-only-badge{ color:red; text-shadow:0 0 5px red; font-size:12px; }
.accent-orb{ color:var(--cyan); text-shadow:0 0 6px var(--cyan); }

/* =========================
   LAYOUT GIOCO
   ========================= */
.game-container{
  display:none; justify-content:center; align-items:center;
  min-height:100vh; padding:20px; flex-direction:column;
}
.game-wrapper{
  position:relative; border:4px solid var(--cyan); border-radius:8px;
  box-shadow:0 0 15px var(--cyan), inset 0 0 15px var(--cyan);
  background-color:transparent; padding:20px;
}
#gameCanvas{
  border:2px solid var(--magenta);
  box-shadow:0 0 20px var(--magenta), inset 0 0 10px var(--magenta);
}

/* =========================
   INFO PANEL / BOXES
   ========================= */
.info-panel{
  display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
  margin-bottom:20px; padding:10px; background-color:var(--panel-bg);
  border:2px solid var(--violet); box-shadow:0 0 10px var(--violet);
}
.info-box{ text-align:center; padding:10px; }
.info-box span{ display:block; margin-bottom:5px; color:var(--cyan); text-shadow:0 0 10px var(--cyan); }

/* =========================
   BOTTONI
   ========================= */
.play-button-container{ text-align:center; margin:50px 0; }
.play-button{
  padding:15px 30px; background:var(--lime); border:2px solid var(--lime); color:#000;
  font-family:'Press Start 2P', cursive; cursor:pointer; transition:all .3s;
  box-shadow:0 0 10px var(--lime); text-transform:uppercase; font-size:24px;
}
.play-button:hover{ background:#000; color:var(--lime); transform:scale(1.05); }
.play-button.mini{ font-size:12px; padding:8px 12px; }
.play-button.danger{ background:var(--red); border-color:var(--red); color:#000; }
.play-button.block{ width:100%; margin-bottom:10px; font-size:14px; padding:10px 12px; }

/* =========================
   DEMO MODE
   ========================= */
.demo-mode .game-title,
.demo-mode .game-description,
.demo-mode .play-button-container,
.demo-mode .how-to-play{ display:none; }
.demo-mode .game-container{ display:flex; min-height:100vh; padding:0; }
.demo-mode .game-wrapper{ border:none; box-shadow:none; padding:0; }

/* =========================
   FOOTER
   ========================= */
.copyright{
  text-align:center; font-size:10px; color:var(--cyan);
  position:relative; bottom:6px; width:100%; text-shadow:0 0 5px var(--cyan);
}

/* =========================
   TOPBAR MINIMALE
   ========================= */
.topbar-minimal{
  display:grid; grid-template-columns:repeat(2,auto); gap:28px; align-items:center; justify-content:center;
  margin-bottom:14px; padding:10px; background:var(--panel-bg); border:2px solid var(--violet); box-shadow:0 0 10px var(--violet);
}
.topbar-minimal.only-level{ grid-template-columns:auto; justify-content:center; padding:12px 16px; }
.big-level span{ font-size:18px; letter-spacing:2px; text-shadow:0 0 10px var(--cyan); }
.big-level #levelDisplay{
  font-size:40px; line-height:1; margin-top:4px; color:var(--cyan);
  text-shadow:0 0 18px var(--cyan), 0 0 28px var(--magenta);
}

/* =========================
   SIDE PANELS
   ========================= */
.side-panel{
  background-color:var(--panel-bg); border:2px solid var(--cyan); box-shadow:0 0 12px var(--cyan);
  padding:10px; border-radius:8px; width:210px;
}
.side-panel.left{ text-align:center; }
.panel-title{
  text-align:center; font-size:14px; color:var(--cyan); margin-bottom:8px; text-shadow:0 0 10px var(--cyan);
  border-bottom:1px solid var(--cyan); padding-bottom:4px;
}

/* =========================
   STAGE LAYOUT
   ========================= */
.stage-rails{
  display:grid; grid-template-columns:220px 1fr 220px; gap:16px; align-items:start;
}
.rail{
  background:var(--panel-bg); border:2px solid var(--cyan);
  box-shadow:0 0 10px var(--cyan), inset 0 0 8px var(--cyan);
  border-radius:8px; padding:12px;
}
.stage-center{ position:relative; display:flex; justify-content:center; align-items:center; }

/* =========================
   CONTROLLI
   ========================= */
.controls-title{
  font-size:12px; color:var(--cyan); text-align:center; margin-bottom:10px; letter-spacing:1px; text-shadow:0 0 8px var(--cyan);
}
.controls-help{ margin-top:6px; font-size:12px; color:var(--cyan); opacity:.85; text-align:center; }

/* =========================
   UTILITY
   ========================= */
.mini-edit{
  background:none; border:none; color:var(--cyan); font-size:12px; margin-left:6px; cursor:pointer; text-shadow:0 0 5px var(--cyan);
}
.mini-edit:hover{ color:#fff; text-shadow:0 0 8px #fff; }

.tiny-edit{
  margin-left:6px; font-size:12px; padding:2px 6px; line-height:1;
  background:transparent; border:1px solid var(--cyan); color:var(--cyan);
  cursor:pointer; box-shadow:0 0 6px var(--cyan);
}
.tiny-edit:hover{ background:#001018; }

/* =========================
   RESPONSIVE
   ========================= */
@media (max-width:1200px){ .stage-rails{ grid-template-columns:180px 1fr 180px; } }
@media (max-width:980px){ .stage-rails{ grid-template-columns:150px 1fr 150px; } .play-button.block{ font-size:13px; padding:8px 10px; } }
@media (max-width:820px){ .stage-rails{ overflow-x:auto; } }
