<!doctype html>
<html lang="it" data-lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Segmentazione clienti</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="left-spacer"></div>
    <h1 id="title">Segmentazione clienti</h1>
    <div class="lang-switch" role="group" aria-label="Lingua">
      <button id="btnIT" class="lang-btn" aria-pressed="true">IT</button>
      <button id="btnEN" class="lang-btn" aria-pressed="false">EN</button>
    </div>
  </header>

  <div class="controls">
    <label class="ctl ctl-k">
      <span id="lblK">K</span>
      <input id="kRange" type="range" min="2" max="8" step="1" value="4" />
      <span id="kVal" class="pill">4</span>
    </label>

    <button id="btnInit" title="k-means++: posiziona bene i centroidi">Inizializza</button>
    <button id="btnStep" title="Esegue un giro: Assegnazione → Aggiornamento">Passo</button>
    <button id="btnRun"  title="Ripete i giri finché i centroidi non si muovono più">Avvia</button>
    <button id="btnReset" title="Rigenera i clienti casualmente">Reset</button>

    <label class="chk"><input id="chkLinks" type="checkbox" checked />
      <span id="lblLinks">Passaggi</span></label>
    <label class="chk"><input id="chkRegions" type="checkbox" />
      <span id="lblRegions">Zone colorate</span></label>

    <span class="pill small" title="Inertia = somma delle distanze punto→centroide (più bassa = cluster più compatti)">
      <span id="lblInertia">Inertia</span>: <b id="inertiaVal">–</b>
    </span>
    <span id="statusChip" class="chip idle" title="Idle = in attesa; Running = sta addestrando; Converged = i centroidi non si muovono più">Idle</span>
  </div>

  <main class="layout">
    <aside class="side left">
      <section class="card">
        <h3 id="hProblem">Il problema</h3>
        <p class="muted" id="pProblem"></p>

        <h4 id="hCentroid">Cos’è un centroide?</h4>
        <ul class="bul" id="ulCentroid"></ul>

        <h4 id="hHow">Come funziona K-Means (in breve)</h4>
        <ul class="bul" id="ulHow"></ul>
        <p class="muted small" id="pInertia"></p>
      </section>

      <section class="card">
        <h3 id="hHowUse">Come si usa</h3>
        <ul class="bul" id="ulHowUse"></ul>
      </section>
    </aside>

    <section class="center">
      <div class="stage-wrap">
        <canvas id="stage" aria-label="Canvas K-Means (Clienti)"></canvas>
        <div id="legend" class="legend"></div>
      </div>

      <div id="explain" class="explain">
        <span id="stAssign" class="step on">1. Assegnazione</span>
        <span id="stUpdate" class="step">2. Aggiornamento</span>
        <span id="stDone"   class="step">Convergenza</span>
        <span class="sep"></span>
        <span class="muted small" id="lblIter">Iterazioni: <b id="iterVal">0</b></span>
        <span class="muted small">• <span id="lblInertia2">Inertia</span>: <b id="exInertia">–</b></span>
      </div>
    </section>

    <aside class="side right">
      <section class="card">
        <h3 id="hWhy">Perché è utile?</h3>
        <ul class="bul" id="ulWhy"></ul>
      </section>

      <section class="card">
        <h3 id="hCats">Categorie tipiche</h3>
        <ul class="bul small" id="ulCats"></ul>
        <p class="muted small" id="pCats"></p>
      </section>

      <section class="card">
        <h3 id="hTips">Suggerimenti</h3>
        <ul class="bul" id="ulTips"></ul>
      </section>
    </aside>
  </main>

  <footer class="foot">© 2025 — Carolina Crespi</footer>
  <script src="app.js"></script>
</body>
</html>
